<!DOCTYPE html>
<html ng-app="test">
	<head>
		<meta charset="UTF-8">
		<title>指令应用(显示更多)</title>
		<script src="js/angular.js"></script>
		<script>
			var app=angular.module('test',[]);
			app.directive('mydir',function(){
				return {
					restrict:'E',
					template:
					'<div class="{{show==true?\'more\':\'more1\'}}"><a href="javascript:;" ng-click="show=!show">显示更多</a><span ng-transclude></span></div>',
					transclude:true
				}
			});  
		</script>
		<!--组件可以重用 即实现多条西显示更多功能-->
		<style>
			.more
			{
				height: 80px;
				width: 200px;
				line-height: 20px;
				overflow: hidden;
				border: 1px solid black;
			}
			.more1
			{
				width: 200px;
				line-height: 20px;
				overflow: hidden;
				border: 1px solid black;
			}
		</style>
	</head>
	<body ng-init="show=true;">
		<mydir>
			大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段
			文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文
			字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大
			段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字大段文字
		</mydir>
		<!--js不支持跨行字符串 需要用转义字符进行转换-->
	</body>
</html>